import { ItmModel, ItmView, ItmRoot } from './itm_components.jsy'
import { kbc_itm_store, WhenMap } from './itm_store.jsy'

::
  let C = customElements
  C.define @ 'itm-root',
    class extends ItmRoot ::
      itm_pub = @{}
        stg: this.hasAttribute('no-stg') ? null : kbc_itm_store(this)
        mime: this.hasAttribute('no-mime') ? null : new WhenMap()

  C.define @ 'itm-m', class extends ItmModel {}
  C.define @ 'itm-v', class extends ItmView {}

