const _mock_views = @{}
  async 'text/plain'(content, {h}) ::
    if content ::
      return h.pre @
        `${await content.text()}`

  async 'text/html'(content, {h}) ::
    if content ::
      return h.div @:
        '=innerHTML': await content.text()


export async function itermuse(ctx) ::
  console.log @ 'MOCK VIEWS', ctx

  for let [k,v] of Object.entries(_mock_views) ::
    ctx.viewmap.set(k,v)

  console.log @ 'Registered Viewmap:', ctx.viewmap

